<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile - Play Beat</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    #avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--accent-color);
    }
  </style>
</head>
<body>
  <h2>Your Profile</h2>
  <div id="profile-info"></div>
  <br>
  <button onclick="logout()">Log out</button>
  <p><a href="index.html">Back to Home</a></p>

  <h3>Friends</h3>
  <button onclick="openFriends()">Friends</button>

  <h3>Settings</h3>
  <button onclick="openSettings()">Settings</button>

  <script>
    function loadProfile() {
      const user = JSON.parse(localStorage.getItem("user"));
      console.log("Loaded user:", user);
      if (!user) {
        window.location.href = "register.html";
        return;
      }

      document.getElementById("profile-info").innerHTML = `
        <img id="avatar" src="${user.avatar || 'https://via.placeholder.com/120'}" alt="avatar"><br><br>
        <p><b>Name:</b> ${user.username}</p>
        <p><b>Phone:</b> ${user.phone}</p>
        <p><b>Email:</b> ${user.email}</p>
      `;
    }

    function logout() {
      localStorage.removeItem("user");
      window.location.href = "index.html";
    }

    function openFriends() {
      alert(" Friends section will be added later.");
    }

    function openSettings() {
      alert(" Settings section will be added later.");
    }

    loadProfile();
  </script>
</body>
</html>

